# FiCoRI

The First Colombian Radio Interferometer [FiCoRI](http://ficori.org) is a two-element solar radio interferometer, developed and designed in Colombia. The instrument is located at Observatorio Astronómico Nacional de Colombia, in the Bogotá campus of the Universidad Nacional de Colombia. It operates in a broad frequency bandwidth, up to 800 MHz continiously 24 hours every day. FiCoRI is the product of a joint effort of the Observatorio Astronómico Nacional (OAN), the Space Sciences Laboratory (SSL) and the University of California Berkeley.

This GITHUB repository includes the main codes necessary to operate the interferometer. These codes are based on the work previously developed by the Collaboration for Astronomy Signal Processing and Electronics Research (CASPER) of the Radio Astronomy Lab in UC Berkeley, check out [CASPER](https://casper.berkeley.edu) website

Hardware and software by CASPER have been adapted to performace the desired features for FiCoRI. FiCoRI is a project still in development with future plans that may include addittional antennas, modification of hardware setup, and re-location of the instrument.

## Structure

Because a [ROACH1 1](https://casper.ssl.berkeley.edu/wiki/ROACH) is used as the receiver system, mainly three types of files are needeed to operate the interferometer.

* **MATLAB/Simulink files:** In order to know about the feasibility of the charateristics in the desired receiver, a simulation in Matlab using Simulink is ran. As soon as the simulation result is acceptable, it is possible to generate the software that will control the ROACH. Matlab files have the extension MDL and can be found [here](https://github.com/jcguevarag/FiCoRI/tree/master/correlator_mdl) where [correlator.mdl.tar.gz](https://github.com/jcguevarag/FiCoRI/blob/master/correlator_mdl/correlator.mdl.tar.gz) is the Matlab file with the design of the correlator ready to be simulated. Notice that [correlator_sysgen.log](https://github.com/jcguevarag/FiCoRI/blob/master/correlator_mdl/correlator_sysgen.log) contains the version of software used.

* **BOF (bit) files:** These are the files generated by MATLAB/Simulink after the design has accomplished all requirements and then can be upload in the -*ROACH 1-* hardware, files can be found [here](https://github.com/jcguevarag/FiCoRI/tree/master/bit_files). The most important file here is [correlator_2017_Mar_22_3340.bof](https://github.com/jcguevarag/FiCoRI/blob/master/bit_files/correlator_2017_Mar_22_2340.bof) as is the file generated by the Maltab design and it will be upload in the -*ROACH FPGA-*

* **Python files:** Python is used for all the communication between the ROACH and the local computer. So it is in charge of initialize the .bof file in the ROACH but also of decide which kind of data is going to be processed in the ROACH and pulling these data to the local storage, python files can be found [here](https://github.com/jcguevarag/FiCoRI/tree/master/python_roach-pc). The file [correlator_init_800.py](https://github.com/jcguevarag/FiCoRI/blob/master/python_roach-pc/correlator_init_800.py) upload the Bof file in the ROACH and initializes the correlator software. The file [ficori_save_data_800_final.py](https://github.com/jcguevarag/FiCoRI/blob/master/python_roach-pc/ficori_save_data_800_final.py) unpack the auto and cross correlations and save .dat files with each in the local storage, this code initialize a new storing file per day.


##Notice: 

-* Scripts in charge of data processing will be upload soon-*
